# 单例模式

## 定义

单例模式是一个类只有一个实例，并且自行实例化并向整个系统提供这个实例；

## 优点

单例模式在内存中只有一个实例，能够节省内存开支；
同时由于一个单例存在能够避免对资源的多重占用；
单例模式可以在系统设置全局访问点；

## 缺点

- 单例模式一般没有接口，扩展很困难？

- 单例模式对测试不利

单例模式由于没有接口，违背接口隔离原则，所以在进行并行开发时，如果单例模式没有完成，则无法进行测试；

## 分类

- 饿汉式单例

- 懒汉式单例

- 有上限的多例模式

这一模式可以在设计时决定在内存中有多少个实例，修正单例可能存在的性能问题，提升系统的响应速度，例如读取文件，可以在系统启动时完成初始化工作，在内存中启动固定数量的 reader 实例，在需要读取文件时就可以快速响应；

## 使用场景

系统中，要求一个类有且仅有一个对象，如果出现多个对象就会出现不良反应；

- 要求生成唯一序列号的环境

- 在整个项目中需要一个共享访问点或共享数据，但是要确保是线程安全的

- 创建一个对象需要消耗的资源过多，如访问 I/O 和数据库

- 需要定义大量的静态常量和静态方法的环境



